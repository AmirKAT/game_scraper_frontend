{"remainingRequest":"C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!C:\\Users\\amir-\\my-app-frontend\\client\\src\\pages\\Products.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\amir-\\my-app-frontend\\client\\src\\pages\\Products.vue","mtime":1607608462000},{"path":"C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\amir-\\my-app-frontend\\client\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1607095271000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvYW1pci0vbXktYXBwLWZyb250ZW5kL2NsaWVudC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBsb2FkZXIgZnJvbSAnLi4vYXNzZXRzL2xvYWRlci5naWYnOwppbXBvcnQgcHJvZHVjdHMgZnJvbSAnLi4vcm91dGVzL3Byb2R1Y3RzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9kdWN0cycsCiAgY29tcG9uZW50czoge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hSZWNvcmRzKEpTT04ucGFyc2UodGhpcy4kcm91dGUucGFyYW1zLnN0YXJ0KSwgSlNPTi5wYXJzZSh0aGlzLiRyb3V0ZS5wYXJhbXMuZW5kKSk7CiAgfSwKICBjb21wdXRlZDogZnVuY3Rpb24gY29tcHV0ZWQoKSB7CiAgICBjb25zb2xlLmxvZygnaGFoYWhhaCcpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGNvbnNvbGUubG9nKCdtb3VudGVkJyk7CiAgfSwKICB1cGRhdGVkOiBmdW5jdGlvbiB1cGRhdGVkKCkgey8vICAgdGhpcy5mZXRjaFJlY29yZHMoSlNPTi5wYXJzZSh0aGlzLiRyb3V0ZS5wYXJhbXMuc3RhcnQpLCBKU09OLnBhcnNlKHRoaXMuJHJvdXRlLnBhcmFtcy5lbmQpKQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlcnBhZ2U6IDIsCiAgICAgIGN1cnJlbnQ6IFtdLAogICAgICBkaXZpc2lvbnM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGVyOiBsb2FkZXIsCiAgICAgIHBhZ2luYXRpb246IFtdLAogICAgICBlcnJvcjogJ1NvcnJ5IE5vIHJlY29yZHMgZm91bmQnCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICckcm91dGUnOiBmdW5jdGlvbiAkcm91dGUodG8sIGZyb20pIHsKICAgICAgaWYgKGZyb20ucGFyYW1zLnN0YXJ0ICE9PSB0by5wYXJhbXMuc3RhcnQpIHsKICAgICAgICAvL2NvbnNvbGUubG9nKGZyb20ucGFyYW1zLnN0YXJ0ICsgJz0+Jyt0by5wYXJhbXMuc3RhcnQpCiAgICAgICAgdGhpcy5wYWdpbmF0aW9uID0gW107CiAgICAgICAgdGhpcy5mZXRjaFJlY29yZHModG8ucGFyYW1zLnN0YXJ0LCB0by5wYXJhbXMuZW5kKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2h1bmtlZEFycjogZnVuY3Rpb24gY2h1bmtlZEFycigpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRpdmlzaW9ucy5sZW5ndGg7IGkgKz0gMikgewogICAgICAgIHRoaXMucGFnaW5hdGlvbi5wdXNoKHsKICAgICAgICAgIHN0YXJ0OiBpLAogICAgICAgICAgZW5kOiBpICsgMgogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmV0Y2hSZWNvcmRzOiBmdW5jdGlvbiBmZXRjaFJlY29yZHMoc3RhcnQsIGVuZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcG9uc2UsIGksIGluZGV4OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCdodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL3Byb2R1Y3RzJywgewogICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgICAgICAgJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbic6ICcqJwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX3RoaXMuZGl2aXNpb25zID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGl2aXNpb25zKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmRpdmlzaW9uc1tzdGFydF0udGl0bGUpOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IHN0YXJ0LCBpbmRleCA9IDA7IGkgPCBlbmQ7IGkrKywgaW5kZXgrKykgewogICAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50W2luZGV4XSA9IF90aGlzLmRpdmlzaW9uc1tpXTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5jaHVua2VkQXJyKCk7CgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gJ1NvcnJ5IHNvbWV0aGluZyBnb2VzIHdyb25nICEgQ2hlY2sgc2VydmVyIGFuZCBEQiBjb25uZWN0aW9uICc7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzAsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVSZWNvcmQ6IGZ1bmN0aW9uIGRlbGV0ZVJlY29yZChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmRlbGV0ZSgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9wcm9kdWN0cy8iLmNvbmNhdChpZCkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXMyLmVycm9yID0gJ1NvcnJ5IE5vIHJlY29yZHMgZm91bmQnOwoKICAgICAgICBfdGhpczIuZmV0Y2hSZWNvcmRzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:\\Users\\amir-\\my-app-frontend\\client\\src\\pages\\Products.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"row\">\n        <div class=\"container\">\n            <br/>\n            <router-link class=\"btn btn-primary\" to=\"/search\"> Search Product</router-link>\n            <br/> <br/>\n            <table class=\"table table-hover\">\n                <thead>\n                    <tr>\n                    <th scope=\"col\">Product # </th>\n                    <th scope=\"col\">Title</th>\n                    <th scope=\"col\">Genre</th>\n                    <th scope=\"col\">Price</th>\n                      <th scope=\"col\">Image </th>\n                     \n                    <th scope=\"col\">Remove</th>\n                    </tr>\n                  <img :src=\"loader\" style=\"width:500px;position:relative;top:50%;left:50%\" v-if=\"!loading\"/>\n                    <div v-if=\"divisions.length == 0 && loading\"  class=\"alert alert-danger\" style=\"width:100%\">{{error}}</div>\n                </thead>\n                 <tbody v-if=\"current.length > 0\">\n                    <tr v-for=\"(data,index) in current\" :key=\"index\">\n                        <td data-column=\"\">{{data.id}}</td>\n                        <td data-column=\" \">{{data.title}}</td>\n                        <td data-column=\" \">{{data.genre}}</td>\n                        <td data-column=\" \">{{data.price}} $</td>\n                          <td data-column=\"\"><img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRxCT-OnvZzD6sSOUYwj-ZaK4WvWG5o5NZZFw&usqp=CAU\" style=\"width:250px;height:150px\" alt=\"Product image\"/></td>\n                     \n                        <td data-column=\" \"><a :href=\"''+data.link\" class=\"btn btn-info border-5\">Visit product</a></td>\n                        <td data-column=\"delete\"><button  class=\"btn btn-danger border-5\" @click=\"deleteRecord(data.id)\">Delete</button></td>\n                    </tr>\n                </tbody>\n            </table>\n            <hr/>\n       <div class=\"col-sm-4 col-md-4 col-lg-4 text-center\" style=\"text-align:center;margin:0 auto\">\n            <nav aria-label=\"Page navigation example\">\n            <ul class=\"pagination\"  >\n              \n                <li v-for='(data,index) in pagination' :key='index' class=\"page-item\" style=\"\"><router-link :to=\"'/products/'+data.start+'/'+data.end\" class=\"page-link\" >{{index+1}}</router-link></li>\n                \n               \n            </ul>   \n            </nav>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport axios from 'axios'\nimport loader from '../assets/loader.gif'\nimport products from '../routes/products';\nexport default {\n    name:'Products',\n     components:{\n\t},\n\tcreated(){\n        \n       \n        this.fetchRecords(JSON.parse(this.$route.params.start), JSON.parse(this.$route.params.end))\n\n\t \n    },\n    computed(){\n        console.log('hahahah')\n    },\n    mounted(){\n        console.log('mounted')\n    },\n    \n    updated(){\n        //   this.fetchRecords(JSON.parse(this.$route.params.start), JSON.parse(this.$route.params.end))\n    },\n\tdata(){\n\t\treturn{\n             \n            perpage: 2,\n            current:[],\n            divisions:[],\n            loading:false,\n            loader:loader,\n            pagination:[],\n            error:'Sorry No records found'\n\t\t}\n    },\n    watch: {\n        '$route' (to, from) {\n\n          if (from.params.start !== to.params.start) {\n\n            //console.log(from.params.start + '=>'+to.params.start)\n            this.pagination = [];\n            this.fetchRecords(to.params.start, (to.params.end))\n             \n\n          }\n        }\n      },\n\tmethods:{\n        chunkedArr() {\n         for (let i = 0; i < this.divisions.length; i += 2){\n                     \n                    this.pagination.push({\n                        start:i,end:i+2\n                    })\n                }\n    },\n\t\tasync fetchRecords(start,end){\n            try {\n                \n                const response = await axios.get('http://localhost:5000/api/products',{headers: {\n                    'Access-Control-Allow-Origin': '*'}});\n                this.divisions = await response.data;\n                // console.log(this.divisions);\n                 console.log(this.divisions[start].title);\n                for(var i=start,index=0;i<end;i++,index++){\n                   this.current[index] = this.divisions[i];\n                   \n                }\n               \n            \n                this.chunkedArr();\n                 \n                this.loading = true;\n\n            } catch (error) {\n                this.loading = true;\n                this.error = 'Sorry something goes wrong ! Check server and DB connection '\n                 \n            } \n\t\t},\n\t\tdeleteRecord(id){\n\t\t\t   axios.delete(`http://localhost:5000/api/products/${id}`).then(res=>{\n                       this.loading = false;\n                       this.error = 'Sorry No records found'\n\t\t\t\t\t   this.fetchRecords();\n\t\t\t\t   }\n\t\t\t   ).catch(err=>{\n\t\t\t\t   console.log(err)\n\t\t\t   })\n\t\t}\n\t}\n}\n</script>\n<style scoped>\n</style>"],"sourceRoot":""}]}